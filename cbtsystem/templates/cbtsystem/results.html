<!DOCTYPE html>
<html lang="en">

<head>
    <title>Results</title>

    <link rel="shortcut icon" type="image/png"
          href="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K">
    <!-- Bootstrap icons-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script src="https://code.jquery.com/jquery-3.5.1.js"
            integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
</head>

<body class=" bg-dark text-secondary">
<div class="container">
    <br>
    <div class="d-flex bd-highlight">
        <div class="p-2 flex-grow-1 bd-highlight">
            <h3 class="text-warning">{{record.studentUsername}} / <span class="text-primary"> {{record.testName}}</span>
            </h3>

            Reading: <span class="text-warning"> -{{record.numberInCorrectR}}</span> / Writing:
            <span class="text-warning"> -{{record.numberInCorrectW}}</span> <br>
<!--            {{record.jsonWrongQtypeR}} / {{record.jsonWrongQtypeW}} <br>-->
            {{record.date_finished}}

        </div>

        <div class="p-2 bd-highlight"><a href="{% url 'index' %}" type="button" class="btn btn-outline-light">
            <i class="bi bi-arrow-90deg-left"></i></a></div>
    </div>


    <hr class="bg-danger">


    <div class="container text-center">
        <div class="row">
            <div class="col">
                <h5 class="text-warning">Reading</h5>
                <canvas id="myChart2"  ></canvas>
                <table class="table table-striped  table-hover table-dark">
                    <thead>
                    <tr>
                        <th class="col-1">No</th>
                        <th class="col-2">Marked</th>
                        <th class="col-1">Correct</th>
                        <th class="col-4">Type</th>

                    </tr>
                    </thead>
                    <tbody id="readingHead">
                    {% for x, y, z, t in zipRecord %}
                    {% if y == z %}
                    <tr>
                        <td>
                            {{x}}
                        </td>
                        <td>
                            {{y}}
                        </td>

                        <td>
                            &#9898;
                        </td>
                        <td>
                            {{t}}
                        </td>
                    </tr>
                    {% else %}
                    <tr>
                        <td>
                            {{x}}
                        </td>

                        <td>
                            {{y}}
                        </td>
                        <td>
                            &#10060;
                        </td>
                        <td>
                            {{t}}
                        </td>
                    </tr>
                    {% endif %}
                    {% endfor %}
                    </tbody>
                </table>
            </div>
            <div class="col">
                <h5 class="text-warning">Writing</h5>
                <div class="col">
                    <canvas id="myChart"  ></canvas>
                    <table class="table table-striped  table-hover table-dark">
                        <thead>
                        <tr>
                            <th class="col-1">No</th>
                            <th class="col-2">Marked</th>
                            <th class="col-2">Correct</th>
                            <th class="col-7">Q-Type</th>

                        </tr>
                        </thead>
                        <tbody id="writingHead">
                        {% for x, y, z, t in zipRecordW %}
                        {% if y == z %}
                        <tr>
                            <td>
                                {{x}}
                            </td>

                            <td>
                                {{y}}
                            </td>
                            <td>
                                &#9898;
                            </td>
                            <td>
                                {{t}}
                            </td>
                        </tr>
                        {% else %}
                        <tr>
                            <td>
                                {{x}}
                            </td>

                            <td>
                                {{y}}
                            </td>
                            <td>
                                &#10060;
                            </td>
                            <td>
                                {{t}}
                            </td>
                        </tr>
                        {% endif %}
                        {% endfor %}
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
    <br>


</div>

<!--<script>-->
<!--        var i = 0-->
<!--        var writingHead = document.getElementById('writingHead');-->

<!--        for (var i = 0; i < 20; i++) {-->

<!--            var item = `           <tr>-->
<!--                                <td>${i + 1}</td>-->
<!--                                <td class=" fw-bold">B</td>-->
<!--                                <td><i class="bi bi-check-lg text-success"></i> </td>-->
<!--                                <td style="cursor: pointer;"> Sentence Structures</td>-->
<!--                            </tr>`-->
<!--            writingHead.innerHTML += item;-->
<!--        }-->

<!--        var n = 0-->
<!--        var writingHead = document.getElementById('readingHead');-->

<!--        for (var n = 0; n < 20; n++) {-->

<!--            var item = `           <tr>-->
<!--                    <td>${n + 1}</td>-->
<!--                    <td class=" fw-bold">A</td>-->
<!--                    <td>&#10060; </td>-->
<!--                    <td style="cursor: pointer;"> Big Picture</td>-->
<!--                    <td style="cursor: pointer;"> Social Science</td>-->
<!--                </tr>`-->
<!--            readingHead.innerHTML += item;-->
<!--        }-->


<!--</script>-->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
const ctx = document.getElementById('myChart').getContext('2d');
const myChart = new Chart(ctx, {
    type: 'bar',
    data: {
        labels: [{% for x, y in record.jsonWrongQtypeR.items %}  '{{x}}', {% endfor %}],
        datasets: [{
            label: 'Incorrect',
            data: [{% for x, y in record.jsonWrongQtypeR.items %}  '{{y}}', {% endfor %}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

</script>

<script>
const ctx2 = document.getElementById('myChart2').getContext('2d');
const myChart2 = new Chart(ctx2, {
    type: 'bar',
    data: {
        labels: [{% for x, y in record.jsonWrongQtypeW.items %}  '{{x}}', {% endfor %}],
        datasets: [{
            label: 'Incorrect',
            data: [{% for x, y in record.jsonWrongQtypeW.items %}  '{{y}}', {% endfor %}],
            backgroundColor: [
                'rgba(255, 99, 132, 0.2)',
                'rgba(54, 162, 235, 0.2)',
                'rgba(255, 206, 86, 0.2)',
                'rgba(75, 192, 192, 0.2)',
                'rgba(153, 102, 255, 0.2)',
                'rgba(255, 159, 64, 0.2)'
            ],
            borderColor: [
                'rgba(255, 99, 132, 1)',
                'rgba(54, 162, 235, 1)',
                'rgba(255, 206, 86, 1)',
                'rgba(75, 192, 192, 1)',
                'rgba(153, 102, 255, 1)',
                'rgba(255, 159, 64, 1)'
            ],
            borderWidth: 1
        }]
    },
    options: {
        scales: {
            y: {
                beginAtZero: true
            }
        }
    }
});

</script>


</body>

</html>