{% extends 'cbtsystem/index.html' %}

{% block content %}


<div class="container  ">

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script
            src="https://code.jquery.com/jquery-3.6.0.js"
            integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
            crossorigin="anonymous"></script>

    <div class="container">
        <br>

        <h3 class="text-dark">Raw Score Converter <span class="text-secondary"> - 10 Test Average </span></h3>
        <hr class="bg-danger">
        <p id="tryloop"></p>
        <style>
.slidecontainer {
  width: 100%;
}

.slider {
  -webkit-appearance: none;
  width: 100%;
  height: 25px;
  background: black;
  outline: none;
  opacity: 0.7;
  -webkit-transition: .2s;
  transition: opacity .2s;
}

.slider:hover {
  opacity: 1;
}

.slider::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 25px;
  height: 25px;
  background: silver;
  cursor: pointer;
}

.slider::-moz-range-thumb {
  width: 25px;
  height: 25px;
  background: #04AA6D;
  cursor: pointer;
}

        </style>

        <h1>Verbal Score: <span class="text-primary" id="scoreput3">490</span> Top: <span class="text-primary"
                                                                                          id="toptop">37%</span></h1>
        <p>Drag the slider to convert raw scores.</p>
        <div class="container">
            <div class="row">
                <div class="col-4 border-top border-warning">
                    <h4> Reading Score:
                        <span class="text-primary" id="scoreput2">250    </span>
                    </h4>
                    <h4> Writing Score:
                        <span class="text-primary" id="scoreput">240    </span>
                    </h4>
                </div>
                <div class="col-8">
                    <div class="slidecontainer">
                        <input type="range" min="1" max="52" value="26" class="slider" id="myRange">
                        <p>Reading: <span class="text-primary" id="demo"></span></p>
                    </div>

                    <div class="slidecontainer">
                        <input type="range" min="1" max="44" value="22" class="slider" id="myRange2">
                        <p>Writing: <span class="text-primary" id="demo2"></span></p>
                    </div>
                </div>
            </div>
        </div>


        <div class="container text-center">
            <div class="row ">
                <div class="col">
                    <table class="table table-striped  table-sm">
                        <thead>
                        <tr>
                            <th scope="col">#Correct</th>
                            <th scope="col">Reading</th>
                            <th scope="col">Writing</th>
                            <th scope="col">Math</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for a, b, c, d in moo %}
                        <tr>
                            <th scope="row" class="text-dark ">{{a}}</th>
                            {% if b == "None0" %}
                            <td>-</td>
                            {% else %}
                            <td class="text-primary">{{b}}</td>
                            {% endif %}

                            {% if c == "None0" %}
                            <td>-</td>
                            {% else %}
                            <td class="text-primary">{{c}}</td>
                            {% endif %}

                            <td class="text-primary">{{d}}</td>
                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>


                <div class="col">
                    <table class="table table-striped  table-sm">
                        <thead>
                        <tr>

                            <th scope="col">Score</th>
                            <th scope="col">Verbal</th>
                            <th scope="col">Math</th>
                        </tr>
                        </thead>
                        <tbody>
                        {% for a, b, c in foo %}
                        <tr>

                            <th scope="row" class="text-dark ">{{a}}</th>
                            {% if b == "None0" %}
                            <td>-</td>
                            {% else %}
                            <td class="text-primary">{{b}}</td>
                            {% endif %}

                            {% if c == "None0" %}
                            <td>-</td>
                            {% else %}
                            <td class="text-primary">{{c}}</td>
                            {% endif %}


                        </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>

            </div>
        </div>


    </div>

    <script>
var ptest = {58: ['None0', 'None0', 800], 57: ['None0', 'None0', 790], 56: ['None0', 'None0', 780],
         55: ['None0', 'None0', 770], 54: ['None0', 'None0', 750], 53: ['None0', 'None0', 740],
         52: ['400', 'None0', 730], 51: ['390', 'None0', 710], 50: ['380', 'None0', 710], 49: ['370', 'None0', 700],
         48: ['370', 'None0', 690], 47: ['360', 'None0', 680], 46: ['360', 'None0', 670], 45: ['350', 'None0', 660],
         44: ['340', '400', 660], 43: ['330', '390', 640], 42: ['330', '380', 640], 41: ['320', '370', 630],
         40: ['320', '360', 620], 39: ['310', '350', 610], 38: ['310', '340', 600], 37: ['300', '330', 600],
         36: ['300', '330', 590], 35: ['290', '320', 580], 34: ['290', '320', 570], 33: ['280', '310', 560],
         32: ['280', '300', 550], 31: ['270', '290', 540], 30: ['270', '290', 540], 29: ['260', '280', 530],
         28: ['260', '280', 520], 27: ['250', '270', 520], 26: ['250', '260', 510], 25: ['240', '260', 500],
         24: ['240', '250', 490], 23: ['230', '250', 480], 22: ['230', '240', 470], 21: ['220', '230', 460],
         20: ['220', '220', 450], 19: ['210', '220', 440], 18: ['210', '210', 430], 17: ['200', '210', 420],
         16: ['190', '200', 410], 15: ['190', '190', 400], 14: ['180', '190', 380], 13: ['180', '180', 370],
         12: ['170', '170', 360], 11: ['170', '170', 350], 10: ['160', '160', 330], 9: ['150', '150', 320],
         8: ['150', '140', 310], 7: ['140', '140', 290], 6: ['130', '130', 280], 5: ['120', '120', 260],
         4: ['110', '110', 250], 3: ['100', '100', 230], 2: ['100', '100', 210], 1: ['100', '100', 200],
         0: ['100', '100', 200]};

var topper = {800: ['99+', 99], 790: ['99+', 99], 780: ['99+', 98], 770: ['99', 97], 760: ['99', 96], 750: ['98', 96], 740: ['98', 95], 730: ['97', 94], 720: ['96', 93], 710: ['95', 92], 700: ['94', 91], 690: ['93', 90], 680: ['91', 89], 670: ['90', 87], 660: ['88', 86], 650: ['86', 84], 640: ['83', 82], 630: ['81', 81], 620: ['78', 79], 610: ['76', 77], 600: ['73', 75], 590: ['70', 72], 580: ['67', 69], 570: ['64', 66], 560: ['60', 64], 550: ['57', 61], 540: ['54', 58], 530: ['50', 54], 520: ['47', 50], 510: ['44', 46], 500: ['40', 42], 490: ['37', 39], 480: ['34', 36], 470: ['30', 33], 460: ['27', 30], 450: ['24', 27], 440: ['21', 24], 430: ['18', 22], 420: ['15', 19], 410: ['13', 17], 400: ['11', 15], 390: ['9', 12], 380: ['7', 10], 370: ['5', 8], 360: ['4', 7], 350: ['3', 5], 340: ['2', 4], 330: ['1', 3], 320: ['1', 2], 310: ['1', 1], 300: ['1', 1], 290: ['1', 1], 280: ['1', 1], 270: ['1', 1], 260: ['1', 1], 250: ['1', 1], 240: ['1', 1], 230: ['1', 1], 220: ['1', 1], 210: ['1', 1], 200: ['1', 1]}

var score3 = document.getElementById("scoreput3");

var cread = 250;
var cwrite = 240;
var totalverbal = 490;

var score2 = document.getElementById("scoreput2");
var slider = document.getElementById("myRange");
var output = document.getElementById("demo");
var toptop = document.getElementById("toptop");
output.innerHTML = slider.value;

slider.oninput = function() {
  output.innerHTML = this.value + " : " + String((parseInt(this.value))-52);
  var readput =  this.value;
  cread = ptest[readput][0]
  score2.innerHTML = ptest[readput][0]
    score3.innerHTML = parseInt(cread) + parseInt(cwrite)
      totalverbal = parseInt(cread) + parseInt(cwrite)

    toptop.innerHTML = topper[totalverbal][0] + "%"

}


var score = document.getElementById("scoreput");

var slider2 = document.getElementById("myRange2");
var output2 = document.getElementById("demo2");
output2.innerHTML = slider2.value;

slider2.oninput = function() {
  output2.innerHTML = this.value + " : " + String((parseInt(this.value))-44);
  var clickput =  this.value;
  cwrite = ptest[clickput][1]
  score.innerHTML = ptest[clickput][1]
  score3.innerHTML = parseInt(cread) + parseInt(cwrite)
  totalverbal = parseInt(cread) + parseInt(cwrite)

  toptop.innerHTML = topper[totalverbal][0] + "%"



}






    </script>

</div>


{% endblock %}